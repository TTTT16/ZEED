<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <title>LINE Flex Share</title>
    <style>
      body {
        background: #000;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }
      button {
        background: #ffbd00;
        color: #000;
        font-size: 20px;
        font-weight: bold;
        padding: 14px 28px;
        border: none;
        border-radius: 8px;
      }
    </style>
  </head>
  <body>
    <button id="share">üéÅ ‡πÅ‡∏ä‡∏£‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏•‡∏¢</button>

    <script>
      async function shareFlex() {
        try {
          await liff.shareTargetPicker([
            {
              type: "flex",
              altText: "üéâ ‡πÅ‡∏à‡∏Å‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏ü‡∏£‡∏µ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô!",
              contents: {
                type: "bubble",
                hero: {
                  type: "image",
                  url: "https://i.ibb.co/VWVSRKnw/Z888-F50.png",
                  size: "full",
                  aspectMode: "cover",
                  aspectRatio: "1.51:1"
                },
                body: {
                  type: "box",
                  layout: "vertical",
                  contents: [
                    {
                      type: "text",
                      text: "üíö ‡πÅ‡∏à‡∏Å‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏ü‡∏£‡∏µ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô üíö",
                      weight: "bold",
                      size: "lg",
                      wrap: true,
                      align: "center"
                    },
                    {
                      type: "button",
                      action: {
                        type: "uri",
                        label: "‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",
                        uri: "https://line.me/ti/p/~yourid"
                      },
                      style: "primary"
                    }
                  ]
                }
              }
            }
          ]);
          liff.closeWindow();
        } catch (err) {
          console.error("‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", err);
        }
      }

      window.onload = async () => {
        await liff.init({ liffId: "2008309807-3bblKde4" });
        document.getElementById("share").onclick = shareFlex;
        const params = new URLSearchParams(window.location.search);
        if (params.get("autoshare") === "1") shareFlex();
      };
    </script>
  </body>
</html>
